package state
{
	var quit = false;
	imut var version = "1.0.0";
	imut var name = "my_app";
}

function quit(a) {
	state::quit = true;
}


function change(new) {
	state::version = new;
}

function main()
{
	loop
	{
		if (state::quit)
			break;

		if (2 > 0)
			quit(1);

		// todo: this gives an error because of "RivFunction::closure". fix it trying to make all environments pointers
		change("as");
	}

	print "bye bye!";
}